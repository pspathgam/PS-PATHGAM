<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>GPS Pethgam Wagoora</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0b5e3c">

  <link rel="stylesheet" href="style.css">
</head>

<body>

<!-- ================= HEADER ================= -->
<header class="app-header">
  <h1>Government Primary School<br>Pethgam Wagoora</h1>
  <p>Established 2005</p>
  <p class="motto">
    Ù…Ù† Ø§Ù„Ø¸Ù„Ù…Ø§Øª Ø¥Ù„Ù‰ Ø§Ù„Ù†ÙˆØ±<br>
    Learn â€¢ Lead â€¢ Correct
  </p>
</header>

<!-- ================= LOGIN BAR ================= -->
<section style="text-align:center; padding:10px; background:#e8f5e9;">
  <a href="login/login.html">ğŸ” Login</a> |
  <a href="login/signup.html">ğŸ“ Student / Teacher Sign-Up</a> |
  <a href="admin/dashboard.html">ğŸ›¡ Admin</a>
</section>

<!-- ================= TICKER ================= -->
<section class="ticker">
  <marquee>
    Admissions Open 2025â€“26 | Results Available | Winter Assignments Uploaded
  </marquee>
</section>

<!-- ================= RESULT SEARCH ================= -->
<section class="result-check-form">
  <h2>Check Your Result</h2>

  <div class="input-group">
    <label for="roll-no-input">Enter Roll Number:</label>
    <input type="text" id="roll-no-input" placeholder="e.g., 406">
    <button id="check-result-btn">View Result & Download PDF</button>
  </div>

  <p style="font-size:12px;color:#555;">
    ğŸ“Œ Result will appear only after valid Roll No search
  </p>
</section>

<!-- ================= RESULT CONTAINER ================= -->
<!-- IMPORTANT: stays EMPTY until search -->
<div id="report-card-container" style="display:none;"></div>

<!-- ================= MAIN MENU ================= -->
<section class="menu">
  <a href="results.html" class="menu-btn">ğŸ“ Results</a>
  <a href="admissions.html" class="menu-btn">ğŸ“ Admissions</a>
  <a href="downloads.html" class="menu-btn">ğŸ“‚ Downloads</a>
  <a href="mdm.html" class="menu-btn">ğŸ² Mid Day Meal</a>
  <a href="gallery.html" class="menu-btn">ğŸ–¼ Gallery</a>
  <a href="staff.html" class="menu-btn">ğŸ‘©â€ğŸ« Staff</a>
</section>

<!-- ================= FOOTER ================= -->
<footer>
  Â© Government Primary School Pethgam Wagoora
</footer>

<!-- ================= SCRIPTS ================= -->
<script src="app.js"></script>

<script>
/* ================= RESULT SEARCH LOGIC ================= */
document.getElementById("check-result-btn").addEventListener("click", function () {
  const roll = document.getElementById("roll-no-input").value.trim();
  const container = document.getElementById("report-card-container");

  if (!roll) {
    alert("Please enter Roll Number");
    return;
  }

  container.style.display = "block";
  container.innerHTML = "<p style='text-align:center;'>ğŸ” Searching result for Roll No " + roll + "...</p>";

  // Actual result rendering handled in app.js
});

/* ================= SERVICE WORKER ================= */
if ('serviceWorker' in navigator) {
  window.addEventListener('load', function () {
    navigator.serviceWorker.register('/sw.js', { scope: '/' })
      .then(function (registration) {
        console.log('ServiceWorker registered:', registration.scope);
      })
      .catch(function (err) {
        console.log('ServiceWorker registration failed:', err);
      });
  });
}
</script>

</body>
</html>
